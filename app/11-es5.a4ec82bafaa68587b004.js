!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{WOYU:function(e,i,r){"use strict";r.d(i,"d",function(){return l}),r.d(i,"a",function(){return h}),r.d(i,"e",function(){return d}),r.d(i,"c",function(){return b}),r.d(i,"b",function(){return x});var a=r("mrSG"),o=r("z9fa"),s=r("bucj"),u=s.b[2],c=s.b[0],l=3*devicePixelRatio,h=Math.round(1*l),d=160*l+2*h,b=251*l+2*h;function f(t){return new Promise(function(e,n){var i=new Image;i.onload=function(){return e(i)},i.onerror=function(){return n()},i.src=t})}function m(t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((n=document.createElement("canvas")).width=160*l,n.height=30*l,i=n.getContext("2d")){e.next=5;break}throw new Error("get a new browser");case 5:return e.t0=i,e.next=8,f(t);case 8:return e.t1=e.sent,e.t2=160*l,e.t3=30*l,e.t0.drawImage.call(e.t0,e.t1,0,0,e.t2,e.t3),e.abrupt("return",n);case 13:case"end":return e.stop()}},e)}))}var g=f("assets/silkscreen-default.svg"),v=f("assets/silkscreen-m515.svg"),w=m("assets/hard-buttons-default.svg"),p=m("assets/hard-buttons-m515.svg"),x=function(){function e(n){t(this,e),this.canvas=n;var i=n.getContext("2d");if(!i)throw new Error("get a new browser");this.ctx=i}return n(e,[{key:"clear",value:function(t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.session=t,this.fillCanvasRect(0,0,d,b,this.backgroundColor()),e.next=4,this.drawSilkscreen();case 4:return e.next=6,this.drawButtons();case 6:case"end":return e.stop()}},e,this)}))}},{key:"drawSilkscreen",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.silkscreenImage();case 2:e=t.sent,this.fillRect(0,161,160,60,u),this.ctx.imageSmoothingEnabled=!0,this.ctx.imageSmoothingQuality="high",this.ctx.drawImage(e,h,h+161*l,160*l,60*l);case 4:case"end":return t.stop()}},t,this)}))}},{key:"drawButtons",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.ctx,e.next=3,this.buttonsImage();case 3:e.t1=e.sent,e.t2=h,e.t3=h+221*l,e.t4=160*l,e.t5=30*l,e.t0.drawImage.call(e.t0,e.t1,e.t2,e.t3,e.t4,e.t5),t.includes(0)&&this.fillRect(0,221,30,30,"rgba(0,0,0,0.2)"),t.includes(1)&&this.fillRect(30,221,30,30,"rgba(0,0,0,0.2)"),t.includes(2)&&this.fillRect(100,221,30,30,"rgba(0,0,0,0.2)"),t.includes(3)&&this.fillRect(130,221,30,30,"rgba(0,0,0,0.2)"),t.includes(4)&&this.fillRect(60,221,40,15,"rgba(0,0,0,0.2)"),t.includes(5)&&this.fillRect(60,236,40,15,"rgba(0,0,0,0.2)");case 15:case"end":return e.stop()}},e,this)}))}},{key:"drawEmulationCanvas",value:function(t){this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(t,h,h,160*l,160*l)}},{key:"fillRect",value:function(t,e,n,i,r){this.ctx.beginPath(),this.ctx.rect(h+l*t,h+l*e,l*n,l*i),this.ctx.fillStyle=r,this.ctx.fill()}},{key:"fillCanvasRect",value:function(t,e,n,i,r){this.ctx.beginPath(),this.ctx.rect(t,e,n,i),this.ctx.fillStyle=r,this.ctx.fill()}},{key:"textCenteredAt",value:function(t,e,n){var i=this.ctx.measureText(n);this.ctx.textBaseline="middle",this.ctx.fillText(n,h+l*t-i.width/2,h+l*e)}},{key:"silkscreenImage",value:function(){var t;switch(null===(t=this.session)||void 0===t?void 0:t.device){case o.a.m515:return v;default:return g}}},{key:"buttonsImage",value:function(){var t;switch(null===(t=this.session)||void 0===t?void 0:t.device){case o.a.m515:return p;default:return w}}},{key:"backgroundColor",value:function(){var t;switch(null===(t=this.session)||void 0===t?void 0:t.device){case o.a.m515:return"white";default:return c}}}]),e}()},hO9l:function(e,i,r){"use strict";r.r(i),r.d(i,"TabsPageModule",function(){return v});var a=r("ofXK"),o=r("3Pt+"),s=r("TEn/"),u=r("tyNb"),c=r("WOYU"),l=r("fXoL");function h(t,e){var n,i;return t=Math.min(t,c.c/devicePixelRatio),(e=Math.min(e,c.e/devicePixelRatio))/t>c.e/c.c?(i=t,n=t/c.c*c.e):(n=e,i=e/c.e*c.c),n*i}var d,b,f,m=[{path:"tab",component:(d=function(){function e(n){var i=this;t(this,e),this.router=n,this.updateUseSmallUI=function(){i.useSmallUI=h(window.innerHeight-44-50-6,window.innerWidth-6)<h(window.innerHeight-44-25-6,window.innerWidth-6)},this.useSmallUI=!1,window.addEventListener("resize",this.updateUseSmallUI),this.updateUseSmallUI()}return n(e,[{key:"smallUI",get:function(){return"/tab/emulation"===this.router.url&&this.useSmallUI}}]),e}(),d.\u0275fac=function(t){return new(t||d)(l.Jb(u.g))},d.\u0275cmp=l.Db({type:d,selectors:[["app-tabs"]],decls:14,vars:2,consts:[["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","settings"],["name","cog-outline"]],template:function(t,e){1&t&&(l.Mb(0,"ion-tabs"),l.Mb(1,"ion-tab-bar",0),l.Mb(2,"ion-tab-button",1),l.Kb(3,"ion-icon",2),l.Mb(4,"ion-label"),l.hc(5,"Emulator"),l.Lb(),l.Lb(),l.Mb(6,"ion-tab-button",3),l.Kb(7,"ion-icon",4),l.Mb(8,"ion-label"),l.hc(9,"Sessions"),l.Lb(),l.Lb(),l.Mb(10,"ion-tab-button",5),l.Kb(11,"ion-icon",6),l.Mb(12,"ion-label"),l.hc(13,"About / Settings"),l.Lb(),l.Lb(),l.Lb(),l.Lb()),2&t&&(l.zb(1),l.Bb("small-ui",e.smallUI))},directives:[s.r,s.p,s.q,s.g,s.m],styles:["ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}"]}),d),children:[{path:"emulation",loadChildren:function(){return Promise.all([r.e(0),r.e(62)]).then(r.bind(null,"6aA7")).then(function(t){return t.EmulationPageModule})}},{path:"sessions",loadChildren:function(){return Promise.all([r.e(0),r.e(10)]).then(r.bind(null,"/NlI")).then(function(t){return t.SessionsPageModule})}},{path:"settings",loadChildren:function(){return Promise.all([r.e(0),r.e(63)]).then(r.bind(null,"07hj")).then(function(t){return t.SettingsPageModule})}},{path:"",redirectTo:"/tab/emulation",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}],g=((f=function e(){t(this,e)}).\u0275mod=l.Hb({type:f}),f.\u0275inj=l.Gb({factory:function(t){return new(t||f)},imports:[[u.i.forChild(m)],u.i]}),f),v=((b=function e(){t(this,e)}).\u0275mod=l.Hb({type:b}),b.\u0275inj=l.Gb({factory:function(t){return new(t||b)},imports:[[s.u,a.b,o.e,g]]}),b)}}])}();